import { useEffect } from "react"

const DarkThemeHandler = () => {
    const detectTheme = () => {
        if (localStorage.getItem("lightTheme")) {
            document.documentElement.classList.remove("dark")
        } else {
            document.documentElement.classList.add("dark")
        }
    }

    const updateTheme = () => {
        localStorage.getItem("lightTheme")
            ? localStorage.removeItem("lightTheme")
            : localStorage.setItem("lightTheme", "1")
        detectTheme()
    }

    useEffect(detectTheme, [])

    return (
        <div className="hover:-translate-y-4 duration-500 cursor-pointer inline-flex select-none">
            <svg
                xmlns="http://www.w3.org/2000/svg"
                version="1.0"
                viewBox="235.16 0 169.11 1279.48"
                className="w-24 h-24 block"
                onClick={updateTheme}
            >
                <path
                    d="M326.5 15.7c1.2 26.6 1 188.3-.3 232.8-1.2 41.7-1.8 66.6-4.7 182.5-.8 33.3-2 78.3-2.5 100-.6 21.7-1.5 56.8-2 78s-1.4 56.3-2 78c-1.2 47.2-2.6 104.5-4 164.5-.6 24.2-1.5 61.1-2 82s-1 41.5-1 45.8c0 7.7 0 7.8-2.9 9-1.7.7-4.4 3.1-6.1 5.2-1.7 2.2-4.6 4.7-6.3 5.5-1.8.9-3.9 3-4.8 5-.9 1.9-2.6 4.3-3.7 5.3-1.6 1.4-1.9 2.7-1.5 5.3.3 2 .1 4-.6 4.8-1 1.1-.9 2.1.3 4.4 1.3 2.6 1.3 3-.2 4.5-1.5 1.6-1.5 1.9 0 4.5 1.5 2.4 1.5 3 .1 5.6-.9 1.8-1.3 4.2-1 6.2s-.3 6.2-1.4 10.1c-1.1 3.8-2.4 12.2-2.9 18.8-1.6 21.2-4.3 28.6-24 65.5-14.4 26.9-18.7 42.2-17.7 63.5.6 13 2.3 19.8 7.5 30.1 10.4 20.4 34.7 39.5 58.2 45.5 8.5 2.2 28.6 1.7 38.4-1 16.7-4.5 33.1-14.8 43.7-27.4s16.3-26.6 17.8-44.1c.5-5.6 1.6-11.8 2.5-13.8 1.6-3.7.9-8.8-1.2-8.8-.4 0-1.4-2.4-2.1-5.2-2.7-10.9-8.5-23.9-19.1-42.8-12.7-22.8-17-32.8-20.4-48.3-1.4-6.2-3.5-14-4.6-17.2-1.1-3.3-2.3-8.5-2.5-11.5-.3-3-1.1-7.3-1.9-9.5-1.8-4.8-2-8.9-.6-11.6.8-1.4.7-2.5-.5-4.2-1.3-2-1.3-2.5 0-4.4 1.1-1.6 1.2-2.8.4-5-.7-2.1-.6-3.8.1-5.8.9-2.3.7-3.2-.9-4.9-1-1.2-2.6-3.7-3.4-5.6-1.9-4.8-6.5-10-8.7-10-1.1 0-3.6-2-5.7-4.5-2.5-3-4.5-4.5-6.1-4.5h-2.4l.6-15.7c.4-8.7 1.8-55 3.1-102.8 1.4-47.9 2.9-102.1 3.5-120.5.5-18.4 1.4-49.5 2-69s1.5-50.6 2-69c2.4-79.1 5.1-186.6 6.5-253 1.4-70.5 4-337.9 3.3-347.3l-.3-4.9-9-2.9c-4.9-1.6-9.2-2.9-9.3-2.9-.2 0-.1 7.1.3 15.7z"
                    className="fill-black dark:fill-white"
                ></path>
            </svg>
        </div>
    )
}

export default DarkThemeHandler
